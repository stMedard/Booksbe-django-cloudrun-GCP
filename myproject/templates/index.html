{% extends "base.html" %}

{% block content %}
{% for message in messages %}
<div class="container-fluid p-0">
  <div class="alert {{ message.tags }} alert-dismissible" role="alert" >
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
    {{ message }}
  </div>
</div>
{% endfor %}
<div class="card text-center">
    <div class="card-header">
      Załóż konto i generuj swoje książki w PDF.
    </div>
    <div class="card-body">
      <h5 class="card-title">BooksBe</h5>
      <p class="card-text">Konto zakładasz, żeby mieć dostęp do swoich książek.</p>
      <p class="card-text">Dopóki ich nie opublikujesz, dostępne są tylko dla Ciebie.</p>
      <a href="/register/" class="btn btn-success">Załóż konto</a>
    </div>
    <div class="card-footer text-muted">
      Wygeneruj ebook PDF przykładowej książki, przekonaj się czy to jest to czego potrzebujesz.
      <a href="{% url 'generate-pdf' id=5  %}" class="btn btn-outline-success">Generuj Pdf</a>
    </div>
  </div>
<div class="container py-5">

<h1>Books</h1>

<div class="row row-cols-1 row-cols-md-4 g-4">
    {% for book in book_list %}
    <div class="col">
        <div div class="card border-dark mb-3" style="max-width: 18rem;">
            <a href="../index/book/{{ book.id }}/"><img src="https://storage.googleapis.com/booksbe-test-3-media/{{book.illustration.image}}" class="card-img-top"></a>
            <div class="card-body">
                <h5><a href="../index/book/{{ book.id }}/">{{ book.title }}</a></h5>
                <p class="card-title">By: {{ book.author }}</p>
                <p class="card-title">Genre: {{ book.genre }}</p>
                <p class="card-title">Published: {{ book.get_publish_display}}</p>
                <p class="card-title">Publication: {{ book.date_of_publication|date }}</p>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
</div>
{% endblock %}